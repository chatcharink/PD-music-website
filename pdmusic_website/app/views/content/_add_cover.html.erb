<!-- Modal -->
<div class="modal fade" id="addCover" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="addCoverLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <%= form_for @content_data , url: content_path(format: :json, menu: menu), method: :POST, html: { id: "form_create_cover", class: "w-100" } do |f| %>
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addCoverLabel">Add cover</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
        
            <div class="modal-body">
                <%# <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="title-tab" data-bs-toggle="tab" data-bs-target="#nav-title" type="button" role="tab" aria-controls="nav-title" aria-selected="true">Title</button>
                    </li>
                    
                </ul> %>
                <%# <div class="tab-content m-3" id="nav-tabContent"> %>
                    <%# <div class="tab-pane fade show active" id="nav-title" role="tabpanel" aria-labelledby="nav-title-tab"> %>
                    <div class="div-cover-content">
                        <div class="mb-3">
                            <label for="title" class="form-label">Cover title :</label>
                            <%= f.text_field :title_content, value: @content_data.title_content, class: "form-control", id: "title" %>
                        </div>
                        <div class="row px-3 mb-3">
                            <label for="upload-content-image-btn" class="form-label ps-0">Cover image :</label>
                            <% source = @content_data.image.attached? ? url_for(@content_data.image) : "" %>
                            <% if source.blank? %>
                                <div class="col-6 div-no-picture rounded-3" id="div-no-image-content">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
                                        <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                                        <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"/>
                                    </svg>
                                </div>
                                <div class="col-6 show-content-image" id="div-content-image" style="display: none;">
                                    <div class="div-show-content-image">
                                        <img id="content-image" class="w-100" src="<%= source %>" style="object-fit: cover;"/>
                                    </div>
                                </div>
                            <% else %>
                                <div class="col-6 div-no-picture rounded-3" id="div-no-image-content" style="display: none;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
                                        <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                                        <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"/>
                                    </svg>
                                </div>
                                <div class="col-6 show-content-image" id="div-content-image">
                                    <div class="div-show-content-image">
                                        <img id="content-image" class="w-100" src="<%= source %>" style="object-fit: cover;"/>
                                    </div>
                                </div>
                            <% end %>
                            <div class="col-6 input-file">
                                <%= f.file_field :image, accept: ".png, .jpg, .jpeg", data: { action: "change->content#uploadPicture" }, class: "upload-content-image-btn", id: "upload-content-image-btn"  %>
                                <%= f.hidden_field :is_image_update, value: "false", id: "is-update-image" %>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="category" class="form-label">Category :</label>
                            <%= f.text_field :category, class: "form-control", list: "datalistOptions", id: "category", value: "#{selected_tab}", placeholder: "Please select category or create new +"%>
                            <datalist id="datalistOptions">
                                <% @tab.each do |t| %>
                                    <option value="<%= t.category_name %>" data-id="<%= t.id %>">
                                <% end %>
                            </datalist>
                        </div>
                    </div>
                    
                    <%= f.hidden_field :format, value: "2" %>
                    <%= f.hidden_field :update_id, value: @content_data.id, id: "update-id" %>
                <%# </div> %>
            </div>
        
            <div class="modal-footer">
                <%# <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> %>
                <%= f.submit "Add", class: "btn btn-primary", id: "submit-content-btn" %>
            </div>
        </div>
        <% end %>
    </div>
</div>